// Load questions
var mythologyQuestions = [    
    {
      "category": "General Knowledge",
      "type": "multiple",
      "difficulty": "easy",
      "question": "The purpose of life is seen to be to gain liberation from the circle of re-incarnation by resolving Karma. What name is given to this achievement?",
      "correct_answer": "Moksha",
      "incorrect_answers": [
        "Vedas",
        "Sutras",
        "Upanishads"
      ]
    },
    {
        "question": "For how many days was the Battle of Kurukshetra fought?",
        "correct_answer": "18",
        "incorrect_answers": [
          "11",
          "7",
          "24"
        ]
    },
    {
        "question": "Which of these Hindu festivals celebrates the victory of Rama over Ravana?",
        "correct_answer": "Dusserah",
        "incorrect_answers": [
          "Mahashivarati",
          "Ramnavami",
          "Holi"
        ]
    },
    {
        "question": "Which Hindu deity is the Goddess of wealth and prosperity?",
        "correct_answer": "Lakshmi",
        "incorrect_answers": [
          "Sita",
          "Kurma",
          "Saraswati"
        ]
    },
    {
        "question": "Which of these is widely recognized as the 8th incarnation of Vishnu?",
        "correct_answer": "Krishna",
        "incorrect_answers": [
          "Kalki",
          "Rama",
          "Buddha"
        ]
    },
    {
      "question": "In Hinduism, who were seen as the first man and first woman?",
      "correct_answer": "Manu and Shatrupa",
      "incorrect_answers": [
        "Adam and Eve",
        "Kardam and Prasuti",
        "Rama and Sita"
      ]
    },    
    {
      "question": "One of the Hindu myths is that those who commit sins go to hell or Naraka. Who is the lord of hell who decides the fate of people after their death?",
      "correct_answer": "Yama",
      "incorrect_answers": [
        "Surya",
        "Chitragupta",
        "Rudra"
      ]
    },
    {
      "question": "In Hindu mythology, the crow is regarded as an inauspicious bird. What is the reason for this?",
      "correct_answer": "Because the crow is the vehicle of Saturn",
      "incorrect_answers": [
        "Because the crow is wily in nature",
        "Because of the crow's colour",
        "Because the crow eats meat"
      ]
    },
    {
      "question": "Diwali or Deepavali is one of the Hindu festivals popular throughout the world. According to legend, why is this festival celebrated?",
      "correct_answer": "To celebrate the return of Lord Rama to his capital Ayodhya",
      "incorrect_answers": [
        "To celebrate the day of the creation of the earth",
        "To celebrate the killing of the demon Ravana by Lord Rama",
        "To celebrate the victory of Lord Krishna over the evil Kamsa"
      ]
    },
    {
      "question": "Ravana was the king of a place that was probably which present day country?",
      "correct_answer": "Sri Lanka",
      "incorrect_answers": [
        "United States of America",
        "India",
        "Australia"
      ]
    },
    {
      "question": "With which of the following states of India is the Garba dance associated?",
      "correct_answer": "Gujarat",
      "incorrect_answers": [
        "Punjab",
        "West Bengal",
        "Haryana"
      ]
    },    
    {
      "question": "An important exam's coming up, and I am really unprepared. I start praying to the Hindu goddess of knowledge to bless me so that I may pass. What is her name?",
      "correct_answer": "Saraswati",
      "incorrect_answers": [
        "Urbashi",
        "Yamuna",
        "Ganga"
      ]
    },
    {
      "question": "The morning courier brings in happy news for Aditya. He has received the contract for construction of a multiplex. He bows his head down and prays to the Hindu god of workmanship and industry so that he may succeed. Who is Aditya praying to?",
      "correct_answer": "Vishwakarma",
      "incorrect_answers": [
        "Shiva",
        "Narasimha",
        "Agni"
      ]
    },
    {
      "question": "Some farmers are really unhappy due to drought conditions. They keep on praying to the god of water to help them out. What is his name?",
      "correct_answer": "Varundev",
      "incorrect_answers": [
        "Agnidev",
        "Varundev",
        "Vishwamitra"
      ]
    },
    {
      "question": "Before starting any special work, Aniruddha never forgets to pray to the Hindu god of success for blessings. What is the name of this god with whom the words 'Riddhi' and 'Siddhi' are often associated?",
      "correct_answer": "Ganesha",
      "incorrect_answers": [
        "Mushak",
        "Nisumbha",
        "Sumbha"
      ]
    },
    {
      "question": "One of the Hindu festivals is celebrated by fasting throughout the day and staying awake at night in prayer. Which is this festival?",
      "correct_answer": "Mahashivarathri",
      "incorrect_answers": [
        "Satyanarayan pooja",
        "Gurupoornima",
        "Mahalakshmi Pooja"
      ]
    },
    {
      "question": "Ramanavami is another important Hindu festival dedicated to the God Rama. Why is this festival celebrated?",
      "correct_answer": "To mark the birth of Lord Rama",
      "incorrect_answers": [
        "To mark the marriage of Lord Rama to Sita",
        "To mark the coronation of Lord Rama as King",
        "To mark the victory of Lord Rama over Ravana"
      ]
    },
    {
      "question": "Janmashtami is a popular festival celebrated to mark the birth of a Hindu God. Which God is this?",
      "correct_answer": "Krishna",
      "incorrect_answers": [
        "Surya",
        "Rama",
        "Yama"
      ]
    },
    {
      "question": "Who is the god of destruction?",
      "correct_answer": "Lord Shiva",
      "incorrect_answers": [
        "Lord Vishnu",
        "Lord Brahma",
        "Lord Indra"
      ]
    }    
]

var goaQuestions = [ 
    {
      "question": "Which article in Indian constitution is a special provision for Goa?",
      "correct_answer": "371 I",
      "incorrect_answers": [
        "300",
        "194",
        "278"
      ]
    },
    {
      "question": "Which state is to the north of Goa?",
      "correct_answer": "Maharashtra",
      "incorrect_answers": ["", "", ""]
    },
    {
      "question": "Which is the official language of Goa?",
      "correct_answer": "Konkani",
      "incorrect_answers": ["", "", ""]
    },
    {
      "question": "Who replaced Francisco Sardinha as Goa’s chief minister in 2000?",
      "correct_answer": "Manohar Parrikar",
      "incorrect_answers": ["", "", ""]
    },
    {
      "question": "Which is the Goa state Animal?",
      "correct_answer": "Gaur/Gavoredo in Konkani Bos gaurus",
      "incorrect_answers": ["", "", ""]
    },
    {
      "question": "Which one is the largest city by areawise in Goa",
      "correct_answer": "Vasco da Gama",
      "incorrect_answers": ["", "", ""]
    },
    {
      "question": "Which one is the highest peak in Goa",
      "correct_answer": "Sonsogor",
      "incorrect_answers": ["", "", ""]
    },
    {
      "question": "In which year, the Portuguese defeated the Bijapur sultan Yousuf Adil Shah",
      "correct_answer": "1510",
      "incorrect_answers": ["1502", "1517", "1525"]
    },
    {
      "question": "Total Number of Rajya Sabha seats in Goa?",
      "correct_answer": "1",
      "incorrect_answers": ["", "", ""]
    },
    {
      "question": " Who was the first Chief Minister of Goa?",
      "correct_answer": "Dayanand Bandodkar",
      "incorrect_answers": ["", "", ""]
    },
    {
      "question": " What was the name of the Indian Army Operation conducted to release Goa from Portuguese rule",
      "correct_answer": "Operation Vijay",
      "incorrect_answers": ["", "", ""]
    },
    {
      "question": "longest beach of Goa?",
      "correct_answer": "colva beach",
      "incorrect_answers": ["", "", ""]
    },
    {
      "question": "The first konkani film realeased was?",
      "correct_answer": "Mogacho Anvddo",
      "incorrect_answers": ["", "", ""]
    },
    {
      "question": "IFFI full form",
      "correct_answer": "The International Film Festival of India.",
      "incorrect_answers": ["", "", ""]
    },
    {
      "question": "Name three famous industrialists / business personalities of Goa",
      "correct_answer": "V M Salgaocar, V D Chowgule, Vasantrao S Dempo",
      "incorrect_answers": ["", "", ""]
    },
    {
      "question": " river Mandovi. In which state does this river originate?",
      "correct_answer": "Karnataka",
      "incorrect_answers": ["", "", ""]
    }
]

var politicsQuestions = [ 
    {
      "question": "The members of the Rajya Sabha are elected by",
      "correct_answer": "elected members of the legislative assembly",
      "incorrect_answers": [
        "the people",
        "Lok Sabha",
        "elected members of the legislative assembly",
        "elected members of the legislative council"
      ]
    },
    {
      "question": "The members of Lok Sabha hold office for a term of",
      "correct_answer": "5y",
      "incorrect_answers": [
        "4y", "3y", "6y"
      ]
    },
    {
      "question": "The minimum age to qualify for election to the Lok Sabha is",
      "correct_answer": "25y",
      "incorrect_answers": [
        "21y", "18y", "35y"
      ]
    },
    {
      "question": "The minimum number of members that must be present to hold the meeting of the Lok Sabha is",
      "correct_answer": "one-tenth of the total membership of the Houses",
      "incorrect_answers": [
        "one-fourth of the total membership", "50 percent strength of the Lok Sabha", "at least 100 members"
      ]
    },
    {
      "question": "The members of Parliament can express themselves in the House in",
      "correct_answer": "English, Hindi or mother tongue",
      "incorrect_answers": [
        "English only", "Hindi only", "English or Hindi"
      ]
    },
    {
      "question": "The national anthem was written by",
      "correct_answer": "Rabindranath Tagore",
      "incorrect_answers": [
        "Bankim Chandra Chatterjee", "Sarat Chandra Chatterjee", "Aurobindo Ghosh"
      ]
    },
    {
      "question": "The minimum age required to become the prime minister of India is",
      "correct_answer": "25y",
      "incorrect_answers": [
        "30y", "45y", "35y"
      ]
    },
    {
      "question": "The members of the State Public Service Commission are appointed by the",
      "correct_answer": "governor",
      "incorrect_answers": [
        "chief minister", "chief justice", "vice-president"
      ]
    },
    {
      "question": "Who is CEO Facebook",
      "correct_answer": "Mark Zuckerberg",
      "incorrect_answers": [
        "", "", ""
      ]
    },
    {
      "question": "Prime Minister of India",
      "correct_answer": "Narendra Modi",
      "incorrect_answers": [
        "", "", ""
      ]
    },
    {
      "question": "Minister of Railways",
      "correct_answer": "Piyush Goyal",
      "incorrect_answers": [
        "Ravi Shankar Prasad", "Ramesh Pokhriyal", "Narendra Singh Tomar"
      ]
    },
    {
      "question": "Minister of Home Affairs",
      "correct_answer": "Amit Shah",
      "incorrect_answers": [
        "", "", ""
      ]
    },
    {
      "question": "Minister of Town & Country Planning, Agriculture of goa",
      "correct_answer": "Chandrakant Kavalekar",
      "incorrect_answers": [
        "", "", ""
      ]
    },
    {
      "question": "Minister of Waste Management, Science & Technology of goa",
      "correct_answer": "Michael Lobo",
      "incorrect_answers": [
        "", "", ""
      ]
    },
    {
      "question": "Minister of Power, Environment of goa",
      "correct_answer": "Nilesh Cabral",
      "incorrect_answers": [
        "", "", ""
      ]
    }
]

var sportsQuestions = [ 
    {
      "question": "Which was the 1st non Test playing country to beat India in an international match?",
      "correct_answer": "Sri Lanka -> Sri Lanka got the status of Test playing country in 1981, and beat India in the 1979 World Cup. Before this they were champion of ICC non-test playing countries.",
      "incorrect_answers": ["Canada", "Zimbabwe", "Afganistan"]
    },
    {
      "question": "The National Game of India is",
      "correct_answer": "Hockeycorrect",
      "incorrect_answers": ["Cricket", "Football", "Tennis"]
    },
    {
      "question": "The term “Slam” is associated with",
      "correct_answer": "Tennis",
      "incorrect_answers": ["Cricket", "Football", "Boxing"]
    },
    {
      "question": "World cup of hockey is held after the gap of __________ years.",
      "correct_answer": "4",
      "incorrect_answers": ["2", "5", "3"]
    },
    {
      "question": "Who is the first Indian to take a hat trick in an international test?",
      "correct_answer": "Harbajan Sigh",
      "incorrect_answers": ["Kumble", "Bumrah", "Irfan pathan"]
    },
    {
      "question": "Which one of the following Cricketers has been declared by the ICC as 'Cricketer of the Twentieth Century '",
      "correct_answer": "Kapil Dev",
      "incorrect_answers": ["Sachin Tendulkar", "Anil Kumble", "Rahul Dravid"]
    },
    {
      "question": "Which batsman started his international cricketing career at the age of 16",
      "correct_answer": "Sachin Tendulkar",
      "incorrect_answers": ["R Dravid", "Parthiv Patel", "Suresh Raina"]
    },
    {
      "question": "Nehru trophy is related to which game?",
      "correct_answer": "Football",
      "incorrect_answers": ["Cricket", "Tennis", "Boxing"]
    },
    {
      "question": "Oval stadium in England is associated with",
      "correct_answer": "Cricket",
      "incorrect_answers": ["Tennis", "Football", "Boxing"]
    },
    {
      "question": "Which Indian player has the fastest 100 in IPL?",
      "correct_answer": "Yusuf Pathan",
      "incorrect_answers": ["Virat Kohli", "Sehwag", "H pandhya"]
    },
    {
      "question": "In 2011 India won the World Cup. Who was adjudicated as the man of the series in the tournament ?",
      "correct_answer": "Yuvaraj Singh",
      "incorrect_answers": ["Sehwag", "Zaheer Khan", "Gautam Gambir"]
    },
    {
      "question": "Sachin Tendulkar hit his 100th international century against which among the following team?",
      "correct_answer": "Bangladesh",
      "incorrect_answers": ["South Africa", "Pakistan", "Autralia"]
    },
    {
      "question": "Mahesh Bhupathi is associated with?",
      "correct_answer": "Lawn Tennis",
      "incorrect_answers": ["Chess", "Cricket", "Table Tennis"]
    },
    {
      "question": "2018 FIFA World Cup Final team?",
      "correct_answer": "France",
      "incorrect_answers": ["Croatia", "Brazil", "Argentina"]
    },
    {
      "question": "Which country will host FIFA World Cup 2022?",
      "correct_answer": "Qatar",
      "incorrect_answers": ["France", "Germany", "Canada"]
    }
]

var whoiswhoQuestions = [   
  {
    "question": "It is easier to roll a stone up a sloping road than to lift it vertical upwards because",
    "correct_answer": "work done in rolling a stone is less than in lifting it",
    "incorrect_answers": ["work done in rolling is more than in lifting", "work done in lifting the stone is equal to rolling it", "work done in both is same but the rate of doing work is less in rolling"]
  },
  {
    "question": "Which of the following measurements is not a unit of distance?",
    "correct_answer": "kg",
    "incorrect_answers": ["cm", "m", "km"]
  },
  {
    "question": "The unit of temperature is",
    "correct_answer": "Fahrenheit",
    "incorrect_answers": ["Calorie", "watt", "Kelvin"]
  },
  {
    "question": "Jaisalmer is in",
    "correct_answer": "Rajasthan",
    "incorrect_answers": ["Himachal Pradesh", "Gujarat", "Uttar Pradesh"]
  },
  {
    "question": "Old name of Tamil Nadu known?",
    "correct_answer": "Madras",
    "incorrect_answers": ["mysor", "Bombay", "tamilian"]
  },
  {
    "question": "Which is the capital of Kerala?",
    "correct_answer": "Thiruvananthapuram",
    "incorrect_answers": ["", "", ""]
  },
  {
    "question": "Which is the smallest state in terms of area?",
    "correct_answer": "Goa",
    "incorrect_answers": ["", "", ""]
  },
  {
    "question": "Which is the national animal of India?",
    "correct_answer": "Tiger",
    "incorrect_answers": ["", "", ""]
  },
  {
    "question": "Which is the national flower of India?",
    "correct_answer": "Lotus",
    "incorrect_answers": ["", "", ""]
  },
  {
    "question": "Which country came into existence after Indo-Pak War of 1971?",
    "correct_answer": "Bangladesh",
    "incorrect_answers": ["", "", ""]
  },
  {
    "question": "Which state or union territory has French as an official language?",
    "correct_answer": "Pondicherry",
    "incorrect_answers": ["Daman & Diu", "goa", "lakshdweep"]
  },
  {
    "question": "Which is the official language of Jammu and Kashmir?",
    "correct_answer": "Urdu",
    "incorrect_answers": ["Dogri", "Pahari", "kashmiri"]
  },
  {
    "question": "Which of the following religions did not originate in India?",
    "correct_answer": "Judaism",
    "incorrect_answers": ["Hinduism", "Bhuddhism", "Jainism"]
  },
  {
    "question": "What was Ashok Kumar before he became an actor?",
    "correct_answer": "Laboratory Assistant",
    "incorrect_answers": ["Driver", "Photographer", "Waiter"]
  },
  {
    "question": "When did Goa become a state?",
    "correct_answer": "30 May 87",
    "incorrect_answers": ["26 January", "19 Dec", "11 July"]
  }
]

var bollywoodQuestions = [
  {
    "question": "The first ever Indian feature film was",
    "correct_answer": "Raja Harishchandra",
    "incorrect_answers": ["", "", ""]
  },
  {
    "question": "Who plays God in 'God Tussi Great Ho'?",
    "correct_answer": "Amitabh Bachan",
    "incorrect_answers": ["", "", ""]
  },
  {
    "question": "Who plays the female lead in the movie 'Chandni Chowk to China'?",
    "correct_answer": "Deepika Padukone",
    "incorrect_answers": ["", "", ""]
  },
  {
    "question": "Raj Kapoor was one of the doyens of the Indian film industry. 'Barsaat' was one of the hit movies directed by Raj Kapoor. Who starred opposite Raj Kapoor in the movie?",
    "correct_answer": "Nargis",
    "incorrect_answers": ["", "", ""]
  },
  {
    "question": "In `Chaalbaaz` which actress played the double role of separated twin sisters?",
    "correct_answer": "Sridevi",
    "incorrect_answers": ["", "", ""]
  },
  {
    "question": "What is Hritik Roshan's debut film?",
    "correct_answer": "Kaho naa... Pyaar Hai",
    "incorrect_answers": ["", "", ""]
  },
  {
    "question": "The first ever Indian film that got popularity outside India was 'Awara' (meaning The Tramp). The hero in that film was a famous actor, also known as the Show Man. This person was the son of Prithviraj Kapoor. Who was he?",
    "correct_answer": "Raj Kapoor",
    "incorrect_answers": ["", "", ""]
  },
  {
    "question": "What is the name of Ritesh Deshmukh's character in `Dhamaal`?",
    "correct_answer": "Roy",
    "incorrect_answers": ["", "", ""]
  },
  {
    "question": "In the movie 'Luck By Chance', whi is the main lead",
    "correct_answer": "Farhan Akhtar",
    "incorrect_answers": ["", "", ""]
  },
  {
    "question": "Who plays the female lead in the movie 'Fashion'?",
    "correct_answer": "Priyanka Chopra",
    "incorrect_answers": ["", "", ""]
  },
  {
    "question": "An all-time great Hindi movie was 'Mother India', leads of movie",
    "correct_answer": "Nargis & Raaj Kumar",
    "incorrect_answers": ["", "", ""]
  },
  {
    "question": "In 'Sholay', what was the name of Basanti's horse?",
    "correct_answer": "Dhano",
    "incorrect_answers": ["", "", ""]
  },
  {
    "question": "What is the name of Shahrukh Khan in the film 'Baadshah'?",
    "correct_answer": "Baadshah",
    "incorrect_answers": ["", "", ""]
  },
  {
    "question": "The story of the film 'Hello' has been adapted from which famous novel?",
    "correct_answer": "One Night at the Call Center",
    "incorrect_answers": ["", "", ""]
  },
  {
    "question": "What was the name of the alien in `Koi Mil Gaya`?",
    "correct_answer": "Jadoo",
    "incorrect_answers": ["", "", ""]
  },
  {
    "question": "Who plays the lead male role in 'Delhi 6'?",
    "correct_answer": "Abhishek Bachchan",
    "incorrect_answers": ["", "", ""]
  },
  {
    "question": "This actor's debut film was 'Sawaryia' in 2007 that wasn't a huge blockbuster. Who is he?",
    "correct_answer": "Ranbir Kapoor",
    "incorrect_answers": ["", "", ""]
  },
  {
    "question": "In the movie `Robot`, who plays the part of the hero and what is his robot's name?",
    "correct_answer": "Rajinikanth, Chitti",
    "incorrect_answers": ["", "", ""]
  }
]

var tie = [
  {
    "question": "This country is named after the Arab royal family which founded the kingdom, and still rules it today. What is its name?",
    "correct_answer": "Yemen",
    "incorrect_answers": ["Kuwait", "Saudi Arabia", "Bahrain"]
  },
  {
    "question": "Which small country's name comes from Sanskrit for `Lion City`?",
    "correct_answer": "Singapore",
    "incorrect_answers": ["Sri Lanka", "Bangladesh", "Brunei"]
  },
  {
    "question": "In the movie `Robot`, who plays the part of the hero and what is his robot's name?",
    "correct_answer": "Rajinikanth, Chitti",
    "incorrect_answers": ["", "", ""]
  },
  {
    "question": "What has a head and a tail but no body?",
    "correct_answer": "Coin",
    "incorrect_answers": ["", "", ""]
  },
  {
    "question": "You can hold it without using your hands or your arms. What is it?",
    "correct_answer": "Your breath.",
    "incorrect_answers": ["", "", ""]
  },
  {
    "question": "Three doctors said that Bill was their brother. Bill said he had no brothers. Who was lying?",
    "correct_answer": "No-one. The doctors were Bill’s sisters.",
    "incorrect_answers": ["", "", ""]
  }
]

var final = [
  {
    "question": "What essential factor did Lakshman sacrifice during the 14 years of exile in an effort to guard Rama and Sita?",
    "correct_answer": "Sleep",
    "incorrect_answers": [
      "Food",
      "Communication",
      "Looking at the sun"
    ]
  },
  {
    "question": "There are many deadly snakes in the world. Of the following list, what is the deadliest?",
    "correct_answer": "Russell's Viper",
    "incorrect_answers": [
      "Inland Taipan",
      "Green Mamba",
      "Yellow Jawed Tommygoff"
    ]
  },
  {
    "question": "Some months have 30 days, some months have 31 days, but how many months have 28 days?",
    "correct_answer": "12",
    "incorrect_answers": [
      "1",
      "4",
      "5"
    ]
  },
  {
    "question": "Divide 30 by half and add 10. What do you get?",
    "correct_answer": "70",
    "incorrect_answers": [
      "20",
      "25",
      "50"
    ]
  },
  {
    "question": "When you know it takes five cats five minutes to catch five mice, how long will it take for 100 cats to catch 100 mice?",
    "correct_answer": "5 minutes",
    "incorrect_answers": [
      "100 minutes",
      "5 minutes",
      "50 minutes"
    ]
  },
  {
    "question": "In indian mythology who was famous for his truthfulness?",
    "correct_answer": "Harichandra",
    "incorrect_answers": [
      "Raja Bharat",
      "Raja Dashrat",
      "Lord Ram"
    ]
  },
  {
    "question": "In Christianity what does Amen mean?",
    "correct_answer": "So be it.",
    "incorrect_answers": [
      "Thanks God",
      "Please be with us",
      "Lord is great"
    ]
  },
  {
    "question": "Name the Scandinavian God of thunder and war?",
    "correct_answer": "Thor",
    "incorrect_answers": [
      "Thanos",
      "Superman",
      "Loki"
    ]
  },
  {
    "question": "Which is considered as the Hindu mythological lord of birds?",
    "correct_answer": "Garuda",
    "incorrect_answers": [
      "Eagle",
      "Parrot",
      "Peackock"
    ]
  },
  {
    "question": "What does the word 'ayurveda' literally mean?",
    "correct_answer": "Science of life",
    "incorrect_answers": [
      "Healthcare",
      "Science of studying Indian medicines",
      "Curing diseases using Indian methods"
    ]
  },
  {
    "category": "General Knowledge",
    "type": "multiple",
    "difficulty": "easy",
    "question": "If Christianity is the most popular religion (in terms of number of followers), where does Hinduism fall in the rankings?",
    "correct_answer": "3rd",
    "incorrect_answers": [
      "5th",
      "2nd",
      "4th"
    ]
  }
]

const question = document.getElementById('question');
const loadQuestion = document.getElementById('load-question');
const choices = Array.from(document.getElementsByClassName('choice-text'));
const progressText = document.getElementById('progressText');
const scoreText = document.getElementById('score');
const progressBarFull = document.getElementById('progressBarFull');
const loader = document.getElementById('loader');
const game = document.getElementById('game');
const answer = document.getElementById('answer');
let currentQuestion = {};
let acceptingAnswers = false;
let score = 0;
let questionCounter = 0;
let availableQuesions = [];

// Set questions based on type
let loadedQuestions;
if (window.location.search.split("=")[1] == "mythology") {
    loadedQuestions = mythologyQuestions;
} else if (window.location.search.split("=")[1] == "goa") {
    loadedQuestions = goaQuestions;
} else if (window.location.search.split("=")[1] == "politics") {
    loadedQuestions = politicsQuestions;
} else if (window.location.search.split("=")[1] == "sports") {
    loadedQuestions = sportsQuestions;
}
else if (window.location.search.split("=")[1] == "who") {
    loadedQuestions = whoiswhoQuestions;
}
else if (window.location.search.split("=")[1] == "seconRound") {
  loadedQuestions = bollywoodQuestions;
}
else if (window.location.search.split("=")[1] == "tie") {
  loadedQuestions = tie;
}
else if (window.location.search.split("=")[1] == "final") {
  loadedQuestions = final;
}

let questions = [];
let MAX_QUESTIONS = loadedQuestions.length;
questions = loadedQuestions.map((loadedQuestion) => {
    const formattedQuestion = {
        question: loadedQuestion.question,
    };

    const answerChoices = [...loadedQuestion.incorrect_answers];
    formattedQuestion.answer = Math.floor(Math.random() * 4) + 1;
    answerChoices.splice(
        formattedQuestion.answer - 1,
        0,
        loadedQuestion.correct_answer
    );

    answerChoices.forEach((choice, index) => {
        formattedQuestion['choice' + (index + 1)] = choice;
    });

    return formattedQuestion;
});

questionCounter = 0;
score = 0;
availableQuesions = [...questions];
loader.classList.add('hidden');
answer.classList.add('hidden');

// startGame();

//CONSTANTS
const CORRECT_BONUS = 10;

getNewQuestion = () => {
    if (availableQuesions.length < 1 || questionCounter >= MAX_QUESTIONS) {
        localStorage.setItem('mostRecentScore', score);
        alert("End of questions");
    }
    questionCounter++;
    progressText.innerText = `Question ${questionCounter}/${MAX_QUESTIONS}`;
    //Update the progress bar
    // progressBarFull.style.width = `${(questionCounter / MAX_QUESTIONS) * 100}%`;

    const questionIndex = Math.floor(Math.random() * availableQuesions.length);
    currentQuestion = availableQuesions[questionIndex];
    question.innerHTML = currentQuestion.question;

    choices.forEach((choice) => {
        const number = choice.dataset['number'];
        choice.innerHTML = currentQuestion['choice' + number];
    });

    availableQuesions.splice(questionIndex, 1);
    acceptingAnswers = true;
};

loadMyquestion = () => {
    game.classList.add('hidden');
    loader.classList.remove('hidden');
    loadQuestion.classList.add('hidden');        
    setTimeout(() => {        
        getNewQuestion();
        game.classList.remove('hidden');
        loader.classList.add('hidden');
        answer.classList.add('hidden');
    }, 1000);
}

choices.forEach((choice) => {
    choice.addEventListener('click', (e) => {
        if (!acceptingAnswers) return;

        acceptingAnswers = false;
        const selectedChoice = e.target;
        const selectedAnswer = selectedChoice.dataset['number'];

        const classToApply =
            selectedAnswer == currentQuestion.answer ? 'correct' : 'incorrect';

        if (classToApply === 'correct') {
            incrementScore(CORRECT_BONUS);
        }

        selectedChoice.parentElement.classList.add(classToApply);
        answer.classList.remove('hidden');
        answer.innerHTML = currentQuestion.answer;

        setTimeout(() => {
            selectedChoice.parentElement.classList.remove(classToApply);
            loadQuestion.classList.remove('hidden');
            game.classList.add('hidden');
            answer.classList.add('hidden');
        }, 5000);
    });
});

incrementScore = (num) => {
    score += num;
    scoreText.innerText = score;
};